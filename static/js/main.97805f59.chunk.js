(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{20:function(e,a,t){e.exports=t(50)},25:function(e,a,t){},27:function(e,a,t){},4:function(e,a,t){e.exports={bar:"SearchBar_bar__DAbWJ",form:"SearchBar_form__3K1g3",formButton:"SearchBar_formButton__z4VEX",formButtonLabel:"SearchBar_formButtonLabel__2fDvv",formInput:"SearchBar_formInput__3EC8l"}},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),o=t.n(c),l=(t(25),t(3)),i=t.n(l),u=t(8),s=t(7),m=t(2),f=(t(27),t(4)),d=t.n(f),p=function(e){var a=e.addSearchQuery,t=Object(n.useState)(""),c=Object(m.a)(t,2),o=c[0],l=c[1];return r.a.createElement("header",{className:d.a.bar},r.a.createElement("form",{className:d.a.form,onSubmit:function(e){e.preventDefault(),a(o),l("")}},r.a.createElement("button",{type:"submit",className:d.a.formButton},r.a.createElement("span",{className:d.a.formButtonLabel},"Search")),r.a.createElement("input",{className:d.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos...",value:o,onChange:function(e){l(e.target.value)}})))},E=t(19),g=t.n(E),b=function(){var e=Object(s.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("//pixabay.com/api/",{params:{q:a,page:t,key:"15687137-c5f0f01058e95950ce1cda2fd",image_type:"photo",orientation:"horizontal",per_page:12}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),v=(t(45),function(e){return r.a.createElement("ul",{className:"ImageGallery"},e.children)}),h=(t(46),function(e){var a=e.images,t=e.openModal,n=e.getModalImage;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:a.webformatURL,alt:a.tags,onClick:function(){n(a.id),t()},className:"ImageGalleryItem-image"}))}),N=(t(47),function(e){var a=e.closeModal,t=e.children,c=function(e){"Escape"===e.key&&a()};Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){return c(e)}))}),[]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",(function(e){return c(e)}))}}));return r.a.createElement("div",{className:"Overlay",onClick:function(e){"Overlay"===e.target.className&&a()}},r.a.createElement("div",{className:"Modal"},t))}),O=(t(48),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-inner"},r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"})),r.a.createElement("div",{className:"loader-line-wrap"},r.a.createElement("div",{className:"loader-line"}))))}),w=(t(49),function(e){var a=e.addNextPageImages;return r.a.createElement("button",{className:"Button",onClick:function(){a()}},"Load more...")});var j=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(1),l=Object(m.a)(o,2),f=l[0],d=l[1],E=Object(n.useState)(!1),g=Object(m.a)(E,2),j=g[0],y=g[1],_=Object(n.useState)({}),S=Object(m.a)(_,2),I=S[0],B=S[1],k=Object(n.useState)(!0),x=Object(m.a)(k,2),L=x[0],M=x[1],C=Object(n.useState)(""),D=Object(m.a)(C,2),G=D[0],J=D[1],z=function(e){var a=t.find((function(a){return a.id===e}));B(a)},F=function(){y(!0)};return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1===f&&c([]),M(!0),e.next=5,b(G,f);case 5:a=e.sent;try{c(1===f?a.data.hits:function(e){return[].concat(Object(u.a)(e),Object(u.a)(a.data.hits))})}catch(t){console.log(t)}M(!1),1!==f&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G,f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{addSearchQuery:function(e){d(1),J(e)}}),r.a.createElement(v,null,!!t.length&&t.map((function(e){return r.a.createElement(h,{key:e.id,images:e,getModalImage:z,openModal:F})}))),L&&r.a.createElement(O,null),!!t.length&&!L&&r.a.createElement(w,{addNextPageImages:function(){d(f+1)}}),j&&r.a.createElement(N,{closeModal:function(){y(!1),B({})}},r.a.createElement("img",{src:I.largeImageURL,alt:I.tags,className:"modal__image"})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.97805f59.chunk.js.map